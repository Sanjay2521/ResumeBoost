(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{5905:function(e,s,t){Promise.resolve().then(t.bind(t,7632))},7632:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return n}});var a=t(7437),r=t(5588),l=t(2265);function n(){let{user:e}=(0,r.aF)(),[s,t]=(0,l.useState)(0),[n,i]=(0,l.useState)(""),[o,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),[u,g]=(0,l.useState)(null),[p,b]=(0,l.useState)([]),[f,j]=(0,l.useState)("text"),v=(0,l.useRef)(null),[w,y]=(0,l.useState)(null),[N,D]=(0,l.useState)([]),[S,C]=(0,l.useState)(!1),k={idle:"\uD83D\uDE0A",speaking:"\uD83D\uDDE3️",listening:"\uD83D\uDC42"},[A,M]=(0,l.useState)("idle");(0,l.useEffect)(()=>(c&&E(),()=>{w&&w.getTracks().forEach(e=>e.stop())}),[c]);let E=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});y(e),v.current&&(v.current.srcObject=e)}catch(e){console.error("Camera access denied:",e)}},P=async()=>{C(!0);try{let s=await fetch("/api/generate-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:null==e?void 0:e.id})}),t=await s.json();D(t.questions)}catch(e){D(["Tell me about your background and experience.","What technical skills do you bring to this role?","Describe a project you're proud of.","How do you handle challenges in your work?","What are your career goals?"])}C(!1)},I=async()=>{0===N.length&&await P(),x(!0),M("speaking"),R(N[0])},R=e=>{if("voice"===f&&"speechSynthesis"in window){let s=new SpeechSynthesisUtterance(e);s.rate=.8,s.pitch=1,s.onend=()=>M("listening"),speechSynthesis.speak(s)}else setTimeout(()=>M("listening"),1e3)},T=async()=>{if(!n.trim())return;let e=[...p,n];b(e),i(""),M("idle"),s<N.length-1?(t(s+1),setTimeout(()=>{M("speaking"),R(N[s+1])},1e3)):(h(!0),z(e))},z=async e=>{let s=0,t=0,a=[];for(let r=0;r<e.length;r++){let l=e[r],n=l.trim().split(/\s+/).length,i=0,o="rejected";n>=50?(i=85+Math.floor(15*Math.random()),o="passed",t++):n>=30?(i=60+Math.floor(20*Math.random()),o="average"):n>=10?(i=30+Math.floor(20*Math.random()),o="poor"):(i=Math.floor(20*Math.random()),o="rejected"),a.push({question:N[r],answer:l,wordCount:n,score:i,status:o}),s+=i}let r=Math.floor(s/e.length);g({overallScore:r,result:t>=3?"PASSED":"REJECTED",passedAnswers:t,totalAnswers:e.length,answerEvaluations:a,strengths:t>=3?["Detailed responses showing depth of knowledge","Good communication skills","Comprehensive answers"]:["Shows basic understanding","Willing to participate"],improvements:t<3?["Provide more detailed explanations (aim for 50+ words per answer)","Include specific examples and experiences","Elaborate on your thought process","Show more depth in technical discussions"]:["Continue providing detailed responses","Add more specific metrics and results"],detailedAnalysis:{communication:t>=3?80+Math.floor(20*Math.random()):40+Math.floor(30*Math.random()),technical:t>=2?70+Math.floor(25*Math.random()):35+Math.floor(35*Math.random()),confidence:r>=60?75+Math.floor(25*Math.random()):30+Math.floor(40*Math.random()),clarity:t>=3?80+Math.floor(20*Math.random()):45+Math.floor(35*Math.random())}})},Q=e=>{let{label:s,score:t}=e;return(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:s}),(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[t,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-1000 ".concat(t>=80?"bg-green-500":t>=60?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(t,"%")}})})]})};return m&&u?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Interview Complete! \uD83C\uDF89"}),(0,a.jsx)("p",{className:"text-xl text-gray-600",children:"Here's your detailed feedback"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8 text-center",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4 ".concat("PASSED"===u.result?"bg-gradient-to-r from-green-400 to-green-600":"bg-gradient-to-r from-red-400 to-red-600"),children:(0,a.jsx)("span",{className:"text-2xl font-bold text-white",children:"PASSED"===u.result?"✅":"❌"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"PASSED"===u.result?"Interview PASSED!":"Interview REJECTED"}),(0,a.jsxs)("p",{className:"text-lg font-semibold mb-2",children:["Score: ",u.overallScore,"/100"]}),(0,a.jsxs)("p",{className:"text-gray-600",children:[u.passedAnswers,"/",u.totalAnswers," answers met the criteria (50+ words)"]}),(0,a.jsx)("div",{className:"mt-4 px-4 py-2 rounded-full text-sm font-medium ".concat("PASSED"===u.result?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"PASSED"===u.result?"\uD83C\uDF89 Congratulations! You provided detailed, comprehensive answers.":"\uD83D\uDCDD Please provide more detailed answers (50+ words each) to pass."})]}),(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Detailed Analysis"}),(0,a.jsx)(Q,{label:"Communication",score:u.detailedAnalysis.communication}),(0,a.jsx)(Q,{label:"Technical Knowledge",score:u.detailedAnalysis.technical}),(0,a.jsx)(Q,{label:"Confidence",score:u.detailedAnalysis.confidence}),(0,a.jsx)(Q,{label:"Clarity",score:u.detailedAnalysis.clarity})]}),(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center mr-3",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Strengths"})]}),(0,a.jsx)("div",{className:"space-y-3",children:u.strengths.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),(0,a.jsx)("p",{className:"text-gray-700",children:e})]},s))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center mr-3",children:(0,a.jsxs)("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,a.jsx)("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2v1a2 2 0 00-2 2v6a2 2 0 002 2h8a2 2 0 002-2V6a2 2 0 00-2-2V3a2 2 0 012-2v1a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5z"})]})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Answer Analysis"})]}),(0,a.jsx)("div",{className:"space-y-4",children:u.answerEvaluations.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Question ",s+1]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.wordCount," words"]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("passed"===e.status?"bg-green-100 text-green-800":"average"===e.status?"bg-yellow-100 text-yellow-800":"poor"===e.status?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"),children:"passed"===e.status?"✅ Passed":"average"===e.status?"⚠️ Average":"poor"===e.status?"\uD83D\uDCDD Poor":"❌ Rejected"})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.question}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 italic",children:['Your answer: "',e.answer.substring(0,100),e.answer.length>100?"...":"",'"']})]},s))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center mr-3",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"})})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Areas to Improve"})]}),(0,a.jsx)("div",{className:"space-y-3",children:u.improvements.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-3"}),(0,a.jsx)("p",{className:"text-gray-700",children:e})]},s))})]})]}),(0,a.jsx)("div",{className:"text-center mt-8",children:(0,a.jsxs)("div",{className:"flex justify-center space-x-4 flex-wrap gap-4",children:[(0,a.jsx)("button",{onClick:()=>window.location.href="/resume-feedback",className:"bg-gradient-to-r from-green-500 to-teal-600 text-white py-3 px-8 rounded-2xl font-semibold hover:from-green-600 hover:to-teal-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"\uD83D\uDCC4 View Resume Analysis"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/roadmap",className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-3 px-8 rounded-2xl font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"\uD83D\uDCDA Learning Roadmap"}),(0,a.jsx)("button",{onClick:()=>window.location.href="/dashboard",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-8 rounded-2xl font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"\uD83C\uDFE0 Upload New Resume"})]})})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>window.history.back(),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors bg-gray-100 hover:bg-gray-200 px-3 py-2 rounded-lg",children:"← Back"}),(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Interview"})]}),(0,a.jsx)(r.l8,{})]})}),(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:c?(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[(0,a.jsx)("div",{className:"text-center mb-6",children:(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Your Video"})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("video",{ref:v,autoPlay:!0,muted:!0,className:"w-full h-64 bg-gray-900 rounded-2xl object-cover"}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:["Question ",s+1," of ",N.length]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"w-32 h-32 bg-gradient-to-r from-purple-400 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-6xl",children:"speaking"===A?k.speaking:"listening"===A?k.listening:k.idle})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"AI Interviewer"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"speaking"===A?"Speaking...":"listening"===A?"Listening...":"Ready"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6 mb-6",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"Question:"}),(0,a.jsx)("p",{className:"text-gray-700",children:N[s]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),placeholder:"Type your answer here...",className:"w-full h-32 p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,a.jsx)("button",{onClick:T,disabled:!n.trim(),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:"Submit Answer"})]})]})]}):(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-12 max-w-2xl mx-auto",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)("span",{className:"text-4xl",children:"\uD83E\uDD16"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"AI Interview Setup"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"Get ready for your personalized AI interview experience"}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Question Format"}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>j("text"),className:"px-6 py-3 rounded-xl font-medium transition-all ".concat("text"===f?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\uD83D\uDCDD Text Questions"}),(0,a.jsx)("button",{onClick:()=>j("voice"),className:"px-6 py-3 rounded-xl font-medium transition-all ".concat("voice"===f?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\uD83C\uDFA4 Voice Questions"})]})]}),(0,a.jsx)("button",{onClick:I,disabled:S,className:"bg-gradient-to-r from-green-500 to-blue-600 text-white py-4 px-8 rounded-2xl font-semibold text-lg hover:from-green-600 hover:to-blue-700 disabled:opacity-50 transition-all duration-300 transform hover:scale-105 shadow-lg",children:S?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Preparing Questions..."]}):"Start Interview"})]})})})]})}}},function(e){e.O(0,[588,971,117,744],function(){return e(e.s=5905)}),_N_E=e.O()}]);